# üì¶ Template Vagrant Projects

–ö–æ–ª–ª–µ–∫—Ü–∏—è –≥–æ—Ç–æ–≤—ã—Ö —à–∞–±–ª–æ–Ω–æ–≤ Vagrant –æ–∫—Ä—É–∂–µ–Ω–∏–π –¥–ª—è Windows 11 —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–æ–π —Ä–∞–±–æ—á–∏—Ö —Å—Ä–µ–¥ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏.

## üéØ –ß—Ç–æ —ç—Ç–æ?

–†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π —Å–æ–¥–µ—Ä–∂–∏—Ç –ø—Ä–µ–¥–Ω–∞—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ Vagrant-–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ —Ä–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏—è –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –Ω–∞ –±–∞–∑–µ VirtualBox. –ö–∞–∂–¥—ã–π –ø—Ä–æ–µ–∫—Ç –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä—É–µ—Ç —É—Å—Ç–∞–Ω–æ–≤–∫—É –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ–≥–æ –ü–û, –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –≤–Ω–µ—à–Ω–∏–º —Ä–µ—Å—É—Ä—Å–∞–º –∏ –∫–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ Git-—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–≤.

## üìÅ –î–æ—Å—Ç—É–ø–Ω—ã–µ —à–∞–±–ª–æ–Ω—ã

### üê≥ [project-vb-docker](./project-vb-docker/)

**VirtualBox + Ubuntu 24.04 LTS + Docker**

–ü–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ –¥–ª—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏–∏ —Å Docker Engine –∏ Docker Compose.

**–ß—Ç–æ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è:**
- Ubuntu 24.04 LTS (Noble Numbat)
- Docker Engine + Docker Compose v2
- Git, Midnight Commander, OpenSSH Server
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∫–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞
- –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –¥–ª—è —Ä–∞–±–æ—Ç—ã –±–µ–∑ sudo

**–ò–¥–µ–∞–ª—å–Ω–æ –¥–ª—è:**
- –†–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–æ–≤
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è Docker Compose —Å—Ç–µ–∫–æ–≤
- –ò–∑–æ–ª—è—Ü–∏–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π

### üì¶ [project-vb-lxc](./project-vb-lxc/)

**VirtualBox + Ubuntu 22.04 LTS + LXC**

–õ–µ–≥–∫–æ–≤–µ—Å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Å–∏—Å—Ç–µ–º–Ω—ã–º–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞–º–∏ LXC.

**–ß—Ç–æ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è:**
- Ubuntu 22.04 LTS (Jammy Jellyfish)
- LXC (Linux Containers)
- Git –∏ –±–∞–∑–æ–≤—ã–µ —É—Ç–∏–ª–∏—Ç—ã
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∫–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞

**–ò–¥–µ–∞–ª—å–Ω–æ –¥–ª—è:**
- –†–∞–±–æ—Ç—ã —Å —Å–∏—Å—Ç–µ–º–Ω—ã–º–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞–º–∏
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–∏–∑–∫–æ—É—Ä–æ–≤–Ω–µ–≤–æ–π –≤–∏—Ä—Ç—É–∞–ª–∏–∑–∞—Ü–∏–∏
- –ò–∑—É—á–µ–Ω–∏—è LXC —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

1. **[VirtualBox](https://www.virtualbox.org/wiki/Downloads)** - —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç
2. **[Vagrant](https://www.vagrantup.com/downloads)** - –≤–µ—Ä—Å–∏—è >= 2.3.0
3. **Windows 11** —Å PowerShell

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞

1. **–í—ã–±–µ—Ä–∏—Ç–µ –Ω—É–∂–Ω—ã–π –ø—Ä–æ–µ–∫—Ç:**
   ```powershell
   cd project-vb-docker
   # –∏–ª–∏
   cd project-vb-lxc
   ```

2. **–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` –ø–æ –ø—Ä–∏–º–µ—Ä—É `.env.example`:**
   ```powershell
   Copy-Item .env.example .env
   ```

3. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ `.env` —Ñ–∞–π–ª:**
   ```bash
   # –ü–æ–ª–Ω—ã–π –ø—É—Ç—å –∫ Git –ø—Ä–æ–µ–∫—Ç—É (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
   GIT_FULL_URL="https://github.com/username/project.git"
   
   # –î–ª—è –ø—Ä–∏–≤–∞—Ç–Ω—ã—Ö —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–≤ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç–æ–∫–µ–Ω:
   # GIT_FULL_URL="https://oauth2:TOKEN@gitlab.com/username/project.git"
   
   # –ü—É—Ç—å –∫ —Å–∫—Ä–∏–ø—Ç—É —É—Å—Ç–∞–Ω–æ–≤–∫–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –¥–ª—è project-vb-docker)
   INSTALL_SCRIPT="docker-init.sh"
   
   # SSHFS –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
   SSHFS_URL="user@192.168.1.100:/remote/path /home/vagrant/mount"
   SSH_PASSWORD="your_password"
   ```

4. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ:**
   ```powershell
   Set-ExecutionPolicy -Scope Process -ExecutionPolicy Bypass ; ./run.ps1
   ```

## üîß –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω–æ–π

```powershell
# –ó–∞–ø—É—Å—Ç–∏—Ç—å/—Å–æ–∑–¥–∞—Ç—å VM
vagrant up --provider=virtualbox

# –ü–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –ø–æ SSH
vagrant ssh

# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å VM
vagrant halt

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å VM
vagrant reload

# –£–¥–∞–ª–∏—Ç—å VM
vagrant destroy -f

# –°—Ç–∞—Ç—É—Å VM
vagrant status
```

### –ï—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã —Å SSH –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ–º

```powershell
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è
$Env:VAGRANT_PREFER_SYSTEM_BIN = 0

# –ó–∞—Ç–µ–º –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è
vagrant ssh
```

## üåê –ß–∞—Å—Ç–Ω—ã–π Vagrant Cloud

–í—Å–µ –±–æ–∫—Å—ã –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è —Å —á–∞—Å—Ç–Ω–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞ `vagrant.elab.pro`. –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞ –≤ –∫–∞–∂–¥–æ–º `Vagrantfile`:

```ruby
ENV['VAGRANT_SERVER_URL'] = 'http://vagrant.elab.pro'
config.vm.box_url = "http://vagrant.elab.pro/api/v2/vagrant/bento/ubuntu-24.04"
```

**–î–æ—Å—Ç—É–ø–Ω—ã–µ –±–æ–∫—Å—ã:**
- `bento/ubuntu-24.04` - Ubuntu 24.04 LTS (project-vb-docker)
- `bento/ubuntu-22.04` - Ubuntu 22.04 LTS (project-vb-lxc)

**–ü—Ä–æ–≤–∞–π–¥–µ—Ä—ã:** VirtualBox, libvirt

## üîå –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞

–ï—Å–ª–∏ –≤ –≤–∞—à–µ–º Git —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ –µ—Å—Ç—å —Å–∫—Ä–∏–ø—Ç —É—Å—Ç–∞–Ω–æ–≤–∫–∏, –æ–Ω –±—É–¥–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø—É—â–µ–Ω:

```bash
# –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –∏—â–µ—Ç—Å—è install.sh –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞
# –ò–ª–∏ —É–∫–∞–∂–∏—Ç–µ –∫–∞—Å—Ç–æ–º–Ω—ã–π –ø—É—Ç—å –≤ .env:
INSTALL_SCRIPT="scripts/setup.sh"
```

### –ü—Ä–æ–±—Ä–æ—Å –ø–æ—Ä—Ç–æ–≤

–î–æ–±–∞–≤—å—Ç–µ –≤ `Vagrantfile` –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ —Å–µ—Ä–≤–∏—Å–∞–º –∏–∑ —Ö–æ—Å—Ç–∞:

```ruby
config.vm.network "forwarded_port", guest: 80, host: 8080
config.vm.network "forwarded_port", guest: 443, host: 8443
config.vm.network "forwarded_port", guest: 3000, host: 3000
```

### SSHFS –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–ü–æ–¥–∫–ª—é—á–∏—Ç–µ —É–¥–∞–ª—ë–Ω–Ω—É—é —Ñ–∞–π–ª–æ–≤—É—é —Å–∏—Å—Ç–µ–º—É —á–µ—Ä–µ–∑ SSHFS (–Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è –≤ `.env`):

**–ù–∞ Windows —Ö–æ—Å—Ç–µ:**
- [sshfs-win](https://github.com/winfsp/sshfs-win) - –¥—Ä–∞–π–≤–µ—Ä SSHFS –¥–ª—è Windows
- [sshfs-win-manager](https://github.com/evsar3/sshfs-win-manager) - GUI –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è

**–í–Ω—É—Ç—Ä–∏ VM:** –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è –ø—Ä–∏ —É–∫–∞–∑–∞–Ω–∏–∏ `SSHFS_URL`

### SSH –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π —Ç—É–Ω–Ω–µ–ª—å (SOCKS5)

–î–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–º DNS/—Å–µ—Ä–≤–∏—Å–∞–º –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤:

```powershell
# –°–æ–∑–¥–∞—Ç—å SOCKS5 –ø—Ä–æ–∫—Å–∏ –Ω–∞ –ø–æ—Ä—Ç—É 7777
vagrant ssh -- -D7777
```

–í –±—Ä–∞—É–∑–µ—Ä–µ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ [SwitchyOmega](https://chromewebstore.google.com/detail/proxy-switchyomega/padekgcemlokbadohgkifijomclgjgif) –∏ –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ:
- –ü—Ä–æ—Ç–æ–∫–æ–ª: SOCKS5
- –°–µ—Ä–≤–µ—Ä: 127.0.0.1
- –ü–æ—Ä—Ç: 7777

## üìù –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
template-vagrant-projects/
‚îú‚îÄ‚îÄ README.md                    # –≠—Ç–æ—Ç —Ñ–∞–π–ª
‚îú‚îÄ‚îÄ project-vb-docker/           # Docker –æ–∫—Ä—É–∂–µ–Ω–∏–µ
‚îÇ   ‚îú‚îÄ‚îÄ .env.example
‚îÇ   ‚îú‚îÄ‚îÄ .gitattributes
‚îÇ   ‚îú‚îÄ‚îÄ README.md
‚îÇ   ‚îú‚îÄ‚îÄ Vagrantfile
‚îÇ   ‚îú‚îÄ‚îÄ run.ps1                  # –°–∫—Ä–∏–ø—Ç –∑–∞–ø—É—Å–∫–∞ –¥–ª—è Windows
‚îÇ   ‚îî‚îÄ‚îÄ run.sh                   # –°–∫—Ä–∏–ø—Ç —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –≤–Ω—É—Ç—Ä–∏ VM
‚îî‚îÄ‚îÄ project-vb-lxc/              # LXC –æ–∫—Ä—É–∂–µ–Ω–∏–µ
    ‚îú‚îÄ‚îÄ .env.example
    ‚îú‚îÄ‚îÄ .gitattributes
    ‚îú‚îÄ‚îÄ README.md
    ‚îú‚îÄ‚îÄ Vagrantfile
    ‚îú‚îÄ‚îÄ run.ps1
    ‚îî‚îÄ‚îÄ run.sh
```

## üîó –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏

- [–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è Vagrant](https://www.vagrantup.com/docs)
- [VirtualBox Documentation](https://www.virtualbox.org/manual/)
- [Docker Documentation](https://docs.docker.com/)
- [LXC Documentation](https://linuxcontainers.org/lxc/documentation/)
- [Vagrant Cloud (–ø—É–±–ª–∏—á–Ω—ã–π)](https://app.vagrantup.com/boxes/search)

---

**–°–æ–∑–¥–∞–Ω–æ –¥–ª—è —É–ø—Ä–æ—â–µ–Ω–∏—è —Ä–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏—è –æ–∫—Ä—É–∂–µ–Ω–∏–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –Ω–∞ Windows 11** üöÄ
